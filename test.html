<html>
    <head>
        <title>jsonp test</title>
        <script src="http://code.jquery.com/jquery-1.6.2.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.1/underscore-min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone-min.js"></script>
    </head>
    <body>
        <p>JSONP test: </p>
        <p><a href="#" id="testlink">Mutate Buttons Model (forces a backbone.sync)</a></p>
        <p>Here's a download test: </p>
        <p><input id='download' type=button value="Download" /></p>
    <script type="text/javascript">
    $(function() {
        // Test straight up download using buttons.toJSON as our query string for window.open
        $('#download').click(function(e) {
            var options = {
                'name': 'buttons',
                'types': ['pill', 'rounded'],
                'btn-namespace': '.button',
                'btn-name': 'button',
                'btn-glow-namespace': '.glow',
                'btn-glow-name': 'glow',
                'btn-font-color': '#666',
                'btn-font-size': '14px',
                'btn-font-weight': '300',
                'btn-font-family': ['Arial', 'sans-serif'],
                'btn-actions': [
                    {
                        name: 'primary',
                        background: '#00A1CB',
                        color: '#FFFFFF'
                    },
                    {
                        name: 'action',
                        background: '#7db500',
                        color: '#FFFFFF'
                    },
                    {
                        name: 'highlight',
                        background: '#F18D05',
                        color: '#FFFFFF'
                    },
                    {
                        name: 'caution',
                        background: '#E54028',
                        color: '#FFFFFF'
                    },
                    {
                        name: 'royal',
                        background: '#87318C',
                        color: '#FFFFFF'
                    }
                ]
            };
            var params = $.param(options);
            var url = 'http://localhost:5000/download/buttons?'+params;
            window.open(url, 'Download');
        });
    });
    </script>
    </body>
</html>
