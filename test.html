<html>
    <head>
        <title>jsonp test</title>
        <script src="vendor/js/jquery.js"></script>
        <script src="vendor/js/underscore.js"></script>
        <script src="vendor/js/backbone.js"></script>

        <style type="text/css">
        /*TODO MOVE OUT*/
        .container {
          width: 850px;
          margin: 50px auto;
          background-color: #fafafa;
          padding: 50px;
          border-radius: 5px;
        }
        .l-centered {
          width: 800px;
          margin: 0 auto;
          text-align: center;
        }

        .select-wrap {
          width: 285px;
          margin: 0 auto;
          /*height: 34px;*/
          overflow: hidden;
          background: #ededed;
          border: 1px solid #ccc;
        }

        .select-wrap select {
          background: transparent;
          width: 275px;
          padding: 5px;
          font-size: 16px;
          border: 0;
          height: 34px;
          display: inline-block;
          border-radius: 0;
        }
      </style>
    </head>
    <body>

      <div class="container">
        <section class="l-centered page-title">
          <h1>Options Compiler Test Page</h1>
        </section>
        <section class="l-centered page-title">
          <div class="module-client">
            <form>
            <div class="select-wrap">
              <select class="select-module">
                <option value="buttons_download" selected="selected">Buttons&mdash;Download</option>
                <option value="buttons_build" selected="selected">Buttons&mdash;Build</option>
                <option value="grids_download" selected="selected">Grids&mdash;Download</option>
                <option value="grids_build" selected="selected">Grids&mdash;Build</option>
              </select>
            </div>
            </form>
            </div>
            <div class="module-selected">
              <span class="selected-label">Selected: </span>
              <span class="selection">N/A</span>
            </div>
          </section>
      </div>

<<<<<<< HEAD
    <script type="text/javascript">
    $(function() {
<<<<<<< HEAD
<<<<<<< HEAD
        var defaultOptions = {
          'btn-namespace': '.button',
          'btn-colors': [
              {
                  name: 'primary',
                  background: '#00A1CB',
                  color: '#FFFFFF'
              },
              {
                  name: 'action',
                  background: '#7db500',
                  color: '#FFFFFF'
              },
              {
                  name: 'highlight',
                  background: '#F18D05',
                  color: '#FFFFFF'
              },
              {
                  name: 'caution',
                  background: '#E54028',
                  color: '#FFFFFF'
              },
              {
                  name: 'royal',
                  background: '#87318C',
                  color: '#FFFFFF'
              }
          ],
          'btn-shapes': [
            {
              name: 'pill',
              radius: '200px'
            },
            {
              name: 'rounded',
              radius: '3px'
            }
          ],
          'btn-sizes': [
            {
              name: 'giant',
              multiplier: '2'
            },
            {
              name: 'jumbo',
              multiplier: '1.5'
            },
            {
              name: 'large',
              multiplier: '1.25'
            },
            {
              name: 'normal',
              multiplier: '1'
            },
            {
              name: 'small',
              multiplier: '.75'
            },
            {
              name: 'tiny',
              multiplier: '.5'
            }
          ],
          'types': ['border', 'shapes'],
          // 'btn-name': 'button',
          'btn-height': '40px',
          'btn-bgcolor': '#EEE',
          'btn-font-color': '#666',
          'btn-font-size': '14px',
          'btn-font-weight': '300',
          'btn-font-family': ['Arial', 'sans-serif']
        };
=======
<script type="text/javascript">
$(function() {
>>>>>>> WIP - setting up a dropdown to test various modules

    var defaultOptions = {
      'btn-namespace': '.robs-buttons',
      'btn-colors': [
          {
              name: 'primary',
              background: '#00A1CB',
              color: '#FFFFFF'
          },
          {
              name: 'action',
              background: '#7db500',
              color: '#FFFFFF'
          },
          {
              name: 'highlight',
              background: '#F18D05',
              color: '#FFFFFF'
          },
          {
              name: 'caution',
              background: '#E54028',
              color: '#FFFFFF'
          },
          {
              name: 'silly',
              background: '#87318C',
              color: '#FFFFFF'
          }
      ],
      'btn-shapes': [
        {
          name: 'pill',
          radius: '200px'
        },
        {
          name: 'rounded',
          radius: '3px'
        }
      ],
      'btn-sizes': [
        {
          name: 'giant',
          multiplier: '2'
        },
        {
          name: 'jumbo',
          multiplier: '1.5'
        },
        {
          name: 'large',
          multiplier: '1.25'
        },
        {
          name: 'normal',
          multiplier: '1'
        },
        {
          name: 'small',
          multiplier: '.75'
        },
        {
          name: 'tiny',
          multiplier: '.5'
        }
      ],
      'types': ['border', 'shapes'],
      // 'btn-name': 'button',
      'btn-height': '40px',
      'btn-bgcolor': '#EEE',
      'btn-font-color': '#666',
      'btn-font-size': '14px',
      'btn-font-weight': '300',
      'btn-font-family': ['Arial', 'sans-serif']
    };


    var JsonpModel = Backbone.Model.extend({
        module: 'buttons',
        defaults: defaultOptions,
        type: null,
        url: function() {
            // return 'http://options-compiler.herokuapp.com/build/buttons';
            return 'http://localhost:5000/build/'+this.module;
        },
        sync: function(method, model, options) {
            var url = model.url()+"?callback=?";
            var data = this.toJSON();
            console.log("URL: ", url);
            var params = _.extend({
              type: 'GET',
              dataType: 'jsonp',
              data: data,
              url: url
            }, options);
            return $.ajax(params);
        },
        parse: function(response) {
            // parse can be invoked for fetch and save, in case of save it can be undefined so check before using
            if (response && response[this.module]) {
                return {
                    buttons: response[this.module],
                    optionsScss: response.optionsScss
                };
            }
        }
    });


<<<<<<< HEAD
        // Test straight up download using buttons.toJSON as our query string for window.open
        $('#download').click(function(e) {
            var params = $.param(defaultOptions);
=======
=======







//////////////////////////////////////////////////////////////
// NEW STUFF /////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
// $ubtn-namespace: '.button' !default; //prefix for all classes
// $ubtn-colors: ('primary' #1B9AF7  #FFF) ('secondary' #DCD4F9 #FFF) ('plain' #FFF #333) ('action' #A5DE37  #FFF) ('highlight' #FEAE1B #FFF)('caution' #FF4351 #FFF) ('royal' #7B72E9 #FFF) !default;
// $ubtn-shapes: (square 0px) (box 10px) (rounded 3px) (pill 200px) (circle 100%) !default;
// $ubtn-sizes: (giant 2) (jumbo 1.5) (large 1.25) (default 1) (small .75) (tiny .5) !default;
// $ubtn-bgcolor: #EEE !default;
// $ubtn-height: 40px !default;
// $ubtn-font-family: "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif  !default;
// $ubtn-font-color: #666 !default;
// $ubtn-font-weight: 300 !default;
// $ubtn-font-size: 16px !default;


>>>>>>> Downloads working. Cleanup
        // Test straight up download using buttons.toJSON as our query string for window.open
        $('#download').click(function(e) {
            var options = {
                // 'name': 'buttons',
                'btn-namespace': '.button',
                // 'btn-actions': [
                'btn-colors': [
                    {
                        name: 'primary',
                        background: '#00A1CB',
                        color: '#FFFFFF'
                    },
                    {
                        name: 'action',
                        background: '#7db500',
                        color: '#FFFFFF'
                    },
                    {
                        name: 'highlight',
                        background: '#F18D05',
                        color: '#FFFFFF'
                    },
                    {
                        name: 'caution',
                        background: '#E54028',
                        color: '#FFFFFF'
                    },
                    {
                        name: 'royal',
                        background: '#87318C',
                        color: '#FFFFFF'
                    }
                ],
                'btn-shapes': [
                  {
                    name: 'pill',
                    radius: '200px'
                  },
                  {
                    name: 'rounded',
                    radius: '3px'
                  }
                ],
                'btn-sizes': [
                  {
                    name: 'giant',
                    multiplier: '2'
                  },
                  {
                    name: 'jumbo',
                    multiplier: '1.5'
                  },
                  {
                    name: 'large',
                    multiplier: '1.25'
                  },
                  {
                    name: 'normal',
                    multiplier: '1'
                  },
                  {
                    name: 'small',
                    multiplier: '.75'
                  },
                  {
                    name: 'tiny',
                    multiplier: '.5'
                  }
                ],
                'types': ['border', 'shapes'],
                // 'btn-name': 'button',
                'btn-height': '40px',
                'btn-bgcolor': '#EEE',
                'btn-font-color': '#666',
                'btn-font-size': '14px',
                'btn-font-weight': '300',
                'btn-font-family': ['Arial', 'sans-serif']
            };
            var params = $.param(options);
>>>>>>> Updated test page for refactor WIP
            var url = 'http://localhost:5000/download/buttons?'+params;
            window.open(url, 'Download');
        });
=======
  //Select the module to test from dropdown
  $(".select-module").change(function () {
    var str = "";
    $("select option:selected").each(function() {
      str += $(this).text() + " ";

      var module = $(this).attr('value');
      if (module === "buttons_download") {
        var params = $.param(defaultOptions);
        var url = 'http://localhost:5000/download/buttons?'+params;
        window.open(url, 'Download');

      } else if (module === "buttons_build") {
        var buttons = new JsonpModel();
        buttons.save();
        console.log("Updated Buttons Backbone Model: ", buttons.toJSON());
      } else {
        alert("Only done buttons so far :)");
      }

>>>>>>> WIP - setting up a dropdown to test various modules
    });
    $('.module-selected .selection').text(str);
  })
  .change();
});
</script>

  </body>
</html>
